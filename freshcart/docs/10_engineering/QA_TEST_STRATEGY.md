<!-- freshcart/docs/10_engineering/QA_TEST_STRATEGY.md -->
# テスト・品質保証

## 1. 層別
- 単体: 計算/判定（決定表D-01..05）を**プロパティテスト**含め網羅
- 契約: PSP/OpenAPIのモックと**スキーマ互換**テスト
- 結合: `/checkout/confirm` 正常/在庫不足/保留/不整合/再送
- E2E: 主要ユーザフローを本番同等の設定で

## 2. モックと並行実行
- 外部APIは**フェイルファースト**のモック（成功/失敗/遅延）を切替
- CIで契約テスト→結合→E2Eを並列

## 3. 回帰への追随
- 仕様/決定表が更新されたら**テストケース生成スクリプト**で再出力
- 失敗時は該当の要件ID・観点IDをエラーメッセージに含める

