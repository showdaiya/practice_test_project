<!-- freshcart/docs/10_engineering/DATA_MIGRATION_VERSIONING.md -->
# データ移行・バージョン管理

## 1. スキーマ変更の原則
- 3段階: **拡張**（列追加/NULL許可）→**移行**（バックフィル/二重書き）→**縮退**（旧列撤去）
- 破壊的変更は**互換ウィンドウ**を設けて段階適用

## 2. マイグレーション
- ツール: マイグレーションツールでDDL/データ移行をコード管理
- 失敗時のリカバリ: トランザクション内または段階的ロールバック

## 3. ドキュメントの差分
- 設計ドキュメントは**要件ID/変更理由**とともにPR
- `TRACEABILITY.md` を更新し、テストケースへ伝播

